{"ast":null,"code":"import _objectSpread from\"C:/Users/omkar/OneDrive/Pictures/Desktop/weather/weather-app-reactjs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import cities from'../../Data/in.json';import axios from\"axios\";import{UseWeatherAppContext}from'../../Context/Context';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ChooseStateComponents=function ChooseStateComponents(){var _UseWeatherAppContext=UseWeatherAppContext(),city=_UseWeatherAppContext.state.city,dispatch=_UseWeatherAppContext.dispatch;//console.log('rohit',UseWeatherAppContext())\nvar handleChange=function handleChange(e){var selectedCity=cities.filter(function(city){return city.city===e.target.value;})[0];//console.log('selectedCity', selectedCity);\ndispatch({type:'SET_CITY',payload:_objectSpread({},selectedCity)});};// API VAR\nvar APIKEY='34480b98aa332da53123a0ac63a4ea9d';var lat=city&&city.lat?city.lat:'';var long=city&&city.lng?city.lng:'';var exclude='hourly,minutely';var ULR=\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(lat,\"&lon=\").concat(long,\"&exclude=\").concat(exclude,\"&units=metric&lang=tr&appid=\").concat(APIKEY);var fetchData=function fetchData(){axios(ULR).then(function(data){var _daily=data.data.daily;dispatch({type:'SET_DAILY',payload:_daily});//console.log('data',data.data)\n});};useEffect(function(){fetchData();// eslint-disable-next-line\n},[city]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"stateWrap\",children:/*#__PURE__*/_jsx(\"select\",{className:\"stateMenu\",defaultValue:city,onChange:handleChange,children:cities&&cities.length>0&&cities.map(function(city){return/*#__PURE__*/_jsxs(\"option\",{value:city.city,children:[city.city,\" -  \",city.admin_name]},\"\".concat(city.population).concat(city.lat));})})})});};export default ChooseStateComponents;","map":{"version":3,"names":["React","useEffect","cities","axios","UseWeatherAppContext","ChooseStateComponents","city","state","dispatch","handleChange","e","selectedCity","filter","target","value","type","payload","APIKEY","lat","long","lng","exclude","ULR","fetchData","then","data","_daily","daily","length","map","admin_name","population"],"sources":["C:/Users/omkar/OneDrive/Pictures/Desktop/weather/weather-app-reactjs/src/Components/ChooseState/index.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport cities from '../../Data/in.json';\r\n\r\nimport axios from \"axios\";\r\n\r\nimport  {UseWeatherAppContext} from '../../Context/Context';\r\n\r\nconst ChooseStateComponents = ()=>{\r\n    \r\n\r\n    const {state:{city}, dispatch} = UseWeatherAppContext();\r\n    //console.log('rohit',UseWeatherAppContext())\r\n\r\n    const handleChange = (e)=>{\r\n        const selectedCity = cities.filter(\r\n            (city) => city.city === e.target.value\r\n        )[0]\r\n        //console.log('selectedCity', selectedCity);\r\n        dispatch({\r\n            type:'SET_CITY',\r\n            payload:{...selectedCity}\r\n        })\r\n    }\r\n\r\n    // API VAR\r\n    const APIKEY = '34480b98aa332da53123a0ac63a4ea9d';\r\n    let lat = city && city.lat ? city.lat : '';\r\n    let long = city && city.lng ? city.lng : '';\r\n    let exclude = 'hourly,minutely';\r\n    const ULR =  `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=${exclude}&units=metric&lang=tr&appid=${APIKEY}`\r\n    \r\n    const fetchData = ()=>{\r\n        axios(ULR).then((data)=>{\r\n            let _daily = data.data.daily\r\n            dispatch({\r\n                type:'SET_DAILY',\r\n                payload:_daily\r\n            })\r\n            \r\n            //console.log('data',data.data)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n       fetchData();\r\n       // eslint-disable-next-line\r\n    }, [city])\r\n\r\n    return (\r\n        <>\r\n            <div className='stateWrap'>\r\n                <select className='stateMenu' defaultValue={city} onChange={handleChange}>\r\n                    {\r\n                        cities && cities.length > 0  && cities.map((city)=>{\r\n                            return(\r\n                                <option key={`${city.population}${city.lat}`} value={city.city}>\r\n                                    {city.city} -  {city.admin_name}\r\n                                </option>\r\n                            )\r\n                        })\r\n                    }\r\n                </select>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChooseStateComponents;"],"mappings":"yJAAA,MAAOA,MAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,OAAP,KAAmB,oBAAnB,CAEA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,OAASC,oBAAT,KAAoC,uBAApC,C,6IAEA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAI,CAG9B,0BAAiCD,oBAAoB,EAArD,CAAcE,IAAd,uBAAOC,KAAP,CAAcD,IAAd,CAAqBE,QAArB,uBAAqBA,QAArB,CACA;AAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAK,CACtB,GAAMC,aAAY,CAAGT,MAAM,CAACU,MAAP,CACjB,SAACN,IAAD,QAAUA,KAAI,CAACA,IAAL,GAAcI,CAAC,CAACG,MAAF,CAASC,KAAjC,EADiB,EAEnB,CAFmB,CAArB,CAGA;AACAN,QAAQ,CAAC,CACLO,IAAI,CAAC,UADA,CAELC,OAAO,kBAAKL,YAAL,CAFF,CAAD,CAAR,CAIH,CATD,CAWA;AACA,GAAMM,OAAM,CAAG,kCAAf,CACA,GAAIC,IAAG,CAAGZ,IAAI,EAAIA,IAAI,CAACY,GAAb,CAAmBZ,IAAI,CAACY,GAAxB,CAA8B,EAAxC,CACA,GAAIC,KAAI,CAAGb,IAAI,EAAIA,IAAI,CAACc,GAAb,CAAmBd,IAAI,CAACc,GAAxB,CAA8B,EAAzC,CACA,GAAIC,QAAO,CAAG,iBAAd,CACA,GAAMC,IAAG,+DAA2DJ,GAA3D,iBAAsEC,IAAtE,qBAAsFE,OAAtF,wCAA4HJ,MAA5H,CAAT,CAEA,GAAMM,UAAS,CAAG,QAAZA,UAAY,EAAI,CAClBpB,KAAK,CAACmB,GAAD,CAAL,CAAWE,IAAX,CAAgB,SAACC,IAAD,CAAQ,CACpB,GAAIC,OAAM,CAAGD,IAAI,CAACA,IAAL,CAAUE,KAAvB,CACAnB,QAAQ,CAAC,CACLO,IAAI,CAAC,WADA,CAELC,OAAO,CAACU,MAFH,CAAD,CAAR,CAKA;AACH,CARD,EASH,CAVD,CAWAzB,SAAS,CAAC,UAAI,CACXsB,SAAS,GACT;AACF,CAHQ,CAGN,CAACjB,IAAD,CAHM,CAAT,CAKA,mBACI,sCACI,YAAK,SAAS,CAAC,WAAf,uBACI,eAAQ,SAAS,CAAC,WAAlB,CAA8B,YAAY,CAAEA,IAA5C,CAAkD,QAAQ,CAAEG,YAA5D,UAEQP,MAAM,EAAIA,MAAM,CAAC0B,MAAP,CAAgB,CAA1B,EAAgC1B,MAAM,CAAC2B,GAAP,CAAW,SAACvB,IAAD,CAAQ,CAC/C,mBACI,gBAA8C,KAAK,CAAEA,IAAI,CAACA,IAA1D,WACKA,IAAI,CAACA,IADV,QACoBA,IAAI,CAACwB,UADzB,aAAgBxB,IAAI,CAACyB,UAArB,SAAkCzB,IAAI,CAACY,GAAvC,EADJ,CAKH,CAN+B,CAFxC,EADJ,EADJ,EADJ,CAiBH,CAzDD,CA2DA,cAAeb,sBAAf"},"metadata":{},"sourceType":"module"}