{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\omkar\\\\OneDrive\\\\Pictures\\\\Desktop\\\\weather\\\\weather-app-reactjs\\\\src\\\\Components\\\\ChooseState\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport cities from '../../Data/in.json';\nimport axios from \"axios\";\nimport { UseWeatherAppContext } from '../../Context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ChooseStateComponents = () => {\n  _s();\n\n  const {\n    state: {\n      city\n    },\n    dispatch\n  } = UseWeatherAppContext(); //console.log('rohit',UseWeatherAppContext())\n\n  const handleChange = e => {\n    const selectedCity = cities.filter(city => city.city === e.target.value)[0]; //console.log('selectedCity', selectedCity);\n\n    dispatch({\n      type: 'SET_CITY',\n      payload: { ...selectedCity\n      }\n    });\n  }; // API VAR\n\n\n  const APIKEY = '34480b98aa332da53123a0ac63a4ea9d';\n  let lat = city && city.lat ? city.lat : '';\n  let long = city && city.lng ? city.lng : '';\n  let exclude = 'hourly,minutely';\n  const ULR = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=${exclude}&units=metric&lang=tr&appid=${APIKEY}`;\n\n  const fetchData = () => {\n    axios(ULR).then(data => {\n      let _daily = data.data.daily;\n      dispatch({\n        type: 'SET_DAILY',\n        payload: _daily\n      }); //console.log('data',data.data)\n    });\n  };\n\n  useEffect(() => {\n    fetchData(); // eslint-disable-next-line\n  }, [city]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stateWrap\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"stateMenu\",\n        defaultValue: city,\n        onChange: handleChange,\n        children: cities && cities.length > 0 && cities.map(city => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: city.city,\n            children: [city.city, \" -  \", city.admin_name]\n          }, `${city.population}${city.lat}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(ChooseStateComponents, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = ChooseStateComponents;\nexport default ChooseStateComponents;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChooseStateComponents\");","map":{"version":3,"names":["React","useEffect","cities","axios","UseWeatherAppContext","ChooseStateComponents","state","city","dispatch","handleChange","e","selectedCity","filter","target","value","type","payload","APIKEY","lat","long","lng","exclude","ULR","fetchData","then","data","_daily","daily","length","map","admin_name","population"],"sources":["C:/Users/omkar/OneDrive/Pictures/Desktop/weather/weather-app-reactjs/src/Components/ChooseState/index.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport cities from '../../Data/in.json';\r\n\r\nimport axios from \"axios\";\r\n\r\nimport  {UseWeatherAppContext} from '../../Context/Context';\r\n\r\nconst ChooseStateComponents = ()=>{\r\n    \r\n\r\n    const {state:{city}, dispatch} = UseWeatherAppContext();\r\n    //console.log('rohit',UseWeatherAppContext())\r\n\r\n    const handleChange = (e)=>{\r\n        const selectedCity = cities.filter(\r\n            (city) => city.city === e.target.value\r\n        )[0]\r\n        //console.log('selectedCity', selectedCity);\r\n        dispatch({\r\n            type:'SET_CITY',\r\n            payload:{...selectedCity}\r\n        })\r\n    }\r\n\r\n    // API VAR\r\n    const APIKEY = '34480b98aa332da53123a0ac63a4ea9d';\r\n    let lat = city && city.lat ? city.lat : '';\r\n    let long = city && city.lng ? city.lng : '';\r\n    let exclude = 'hourly,minutely';\r\n    const ULR =  `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&exclude=${exclude}&units=metric&lang=tr&appid=${APIKEY}`\r\n    \r\n    const fetchData = ()=>{\r\n        axios(ULR).then((data)=>{\r\n            let _daily = data.data.daily\r\n            dispatch({\r\n                type:'SET_DAILY',\r\n                payload:_daily\r\n            })\r\n            \r\n            //console.log('data',data.data)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n       fetchData();\r\n       // eslint-disable-next-line\r\n    }, [city])\r\n\r\n    return (\r\n        <>\r\n            <div className='stateWrap'>\r\n                <select className='stateMenu' defaultValue={city} onChange={handleChange}>\r\n                    {\r\n                        cities && cities.length > 0  && cities.map((city)=>{\r\n                            return(\r\n                                <option key={`${city.population}${city.lat}`} value={city.city}>\r\n                                    {city.city} -  {city.admin_name}\r\n                                </option>\r\n                            )\r\n                        })\r\n                    }\r\n                </select>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChooseStateComponents;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,oBAAT,QAAoC,uBAApC;;;;AAEA,MAAMC,qBAAqB,GAAG,MAAI;EAAA;;EAG9B,MAAM;IAACC,KAAK,EAAC;MAACC;IAAD,CAAP;IAAeC;EAAf,IAA2BJ,oBAAoB,EAArD,CAH8B,CAI9B;;EAEA,MAAMK,YAAY,GAAIC,CAAD,IAAK;IACtB,MAAMC,YAAY,GAAGT,MAAM,CAACU,MAAP,CAChBL,IAAD,IAAUA,IAAI,CAACA,IAAL,KAAcG,CAAC,CAACG,MAAF,CAASC,KADhB,EAEnB,CAFmB,CAArB,CADsB,CAItB;;IACAN,QAAQ,CAAC;MACLO,IAAI,EAAC,UADA;MAELC,OAAO,EAAC,EAAC,GAAGL;MAAJ;IAFH,CAAD,CAAR;EAIH,CATD,CAN8B,CAiB9B;;;EACA,MAAMM,MAAM,GAAG,kCAAf;EACA,IAAIC,GAAG,GAAGX,IAAI,IAAIA,IAAI,CAACW,GAAb,GAAmBX,IAAI,CAACW,GAAxB,GAA8B,EAAxC;EACA,IAAIC,IAAI,GAAGZ,IAAI,IAAIA,IAAI,CAACa,GAAb,GAAmBb,IAAI,CAACa,GAAxB,GAA8B,EAAzC;EACA,IAAIC,OAAO,GAAG,iBAAd;EACA,MAAMC,GAAG,GAAK,uDAAsDJ,GAAI,QAAOC,IAAK,YAAWE,OAAQ,+BAA8BJ,MAAO,EAA5I;;EAEA,MAAMM,SAAS,GAAG,MAAI;IAClBpB,KAAK,CAACmB,GAAD,CAAL,CAAWE,IAAX,CAAiBC,IAAD,IAAQ;MACpB,IAAIC,MAAM,GAAGD,IAAI,CAACA,IAAL,CAAUE,KAAvB;MACAnB,QAAQ,CAAC;QACLO,IAAI,EAAC,WADA;QAELC,OAAO,EAACU;MAFH,CAAD,CAAR,CAFoB,CAOpB;IACH,CARD;EASH,CAVD;;EAWAzB,SAAS,CAAC,MAAI;IACXsB,SAAS,GADE,CAEX;EACF,CAHQ,EAGN,CAAChB,IAAD,CAHM,CAAT;EAKA,oBACI;IAAA,uBACI;MAAK,SAAS,EAAC,WAAf;MAAA,uBACI;QAAQ,SAAS,EAAC,WAAlB;QAA8B,YAAY,EAAEA,IAA5C;QAAkD,QAAQ,EAAEE,YAA5D;QAAA,UAEQP,MAAM,IAAIA,MAAM,CAAC0B,MAAP,GAAgB,CAA1B,IAAgC1B,MAAM,CAAC2B,GAAP,CAAYtB,IAAD,IAAQ;UAC/C,oBACI;YAA8C,KAAK,EAAEA,IAAI,CAACA,IAA1D;YAAA,WACKA,IAAI,CAACA,IADV,UACoBA,IAAI,CAACuB,UADzB;UAAA,GAAc,GAAEvB,IAAI,CAACwB,UAAW,GAAExB,IAAI,CAACW,GAAI,EAA3C;YAAA;YAAA;YAAA;UAAA,QADJ;QAKH,CAN+B;MAFxC;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADJ,iBADJ;AAiBH,CAzDD;;GAAMb,qB;;KAAAA,qB;AA2DN,eAAeA,qBAAf"},"metadata":{},"sourceType":"module"}